<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"/>
<title>李庄的个人主页</title>
<style type="text/css">
<!--
body {
	background-image: url(img/2019_7_1bg.jpg);
	background-repeat: repeat;
}
-->
</style></head>
<body>
<div>
  <table width="100%" border="0" cellpadding="1" cellspacing="1">
    <tr>
      <td><h1>微信小游戏简介</h1></td>
      <td><div align="right"><a href="grrz.html"><img src="img/back.jpg" alt="返回日志页" width="40" height="40" border="0"></a></div></td>
    </tr>
	<tr>
	  <td colspan="2"><blockquote>
      <p>此次微信小游戏的制作是由我和徐嘉宇同学共同完成的，我们的游戏很简单就是我们平时玩的贪吃蛇游戏，我完成的部分如下：</p>
	    <li>页面的布局设计</li>
      <li>各种按钮及功能的实现</li>
      <li>帮助界面的实现</li>  
      <li>贪吃蛇移动的实现</li>
      <p>其实我们并没有特别明确的分工，都是想到什么就做什么，只不过是出发点不一样，我的出发点是从界面入手设置好界面，然后对对应的界面功能进行编辑。</p>
      <p>页面的布局主要通过的是snake.wxml和snake.wxss来布局的，类似平时设计的HTML格式。我用多个view标签来完成我的布局，帮助界面则是采用下拉菜单的形式来完成。一些具体的实现过程如下：</p>
      <li>方向键的绘制：</li>
      <p>在绘制方向键的时候，由于旁边有计分器，上方向键的居中是通过添加两个白色（与背景颜色相同）的，且大小与其他方向键相同块来保证上方向键在下方向键的正上方，方向键的样式等都一样，大小等设置也与计分器相类似。</p>
      <li>帮助界面的绘制：</li>
      <p>我将帮助界面藏在了暂停按钮里，就是说当按下暂停键，帮助界面就会以下拉菜单的形式出现，具体的内容都是提前编译好的，样式在wxss里也有设置，因为在帮助界面不论点击哪里都会回到游戏主界面，所以我干脆就直接设计了多个取消键，这样以来不论点击哪个地方都会回到主界面。</p>
      <li>贪吃蛇操场的绘制：</li>
      <p>通过循环将组成操场的块一点一点的绘制到界面上，至于贪吃蛇的绘制只需要将贪吃蛇及食物设计为两个样式，再在js中对样式内容进行修改即可，这种方式也被我应用到了开始、暂停、计分器上。</p>
      <ul>下面我将介绍一些功能的实现，包括以下几个方面：</ul>
      <li>计分器的实现：</li>
      <p>计分器的功能一是记载当前分数，二是记录最高分数，当当前分数大于最高分数时，计分器的颜色会发生改变，而且用当前分数替代最高分数。功能的实现很简单，当蛇吃到食物时分数加10，通过单独的判断函数判断是否大于已经记录的最高分数，如果是则改变颜色将当前分数记录到最高分数中。这里的记录工具用的是wx.getStorageSync来实现的。</p>
      <li>开始、重玩键的实现:</li>
      <p>进入游戏后蛇是静止不动的，这样设计是为了让玩家有一个准备的时间，如果一开始就直接动的话可能会出现不注意而死亡的情况。开始按键的设计十分简单，先判断文字内容，如果是开始给蛇以一个出事的方向，这里我设置的是向右，然后将开始改成重玩。重玩按键的设置就是将所有数据清零重新开始，最开始还遇到了一个问题，就是重玩几次后会死机，最后发现是没有初始化数据，相当于是在原来的操场上又建了一个操场，最后解决了这个问题。</p>
      <li>暂停、继续键的实现：</li>
      <p>暂停键的实现开始的时候有点搞不懂怎么弄，因为要暂停游戏，所以需要保存当前蛇移动的方向，同时暂停过程中按方向键还不能动。计分器的实现启发了我，用wx.getStorageSync来记录当前的移动方向，然后将方向置零，按下继续键将记录的方向再放回去。至于禁止方向键，我是通过判断方向是否为零来解决的，这样还可以解决开始按钮和方向键冲突的问题，当没按下开始时，蛇不会移动，按方向键也不会。</p>
      <li>方向键的实现：</li>
      <p>就是简单的将方向改变，然后让蛇转身。开始的时候遇到的问题是蛇会回头吃自己，原因就是没有判断当前的方向，加入了方向判断后问题就自然解决了。其实我们最开始想的是通过手指的滑动来进行移动，但是玩了两把后，发现这种移动方法虽然可以节省出方向键的位置绘制更大的操场，但是操作的感觉并没有方向键舒服（只是个人观点），所以我们决定还是通过方向键来进行移动。</p>
      </blockquote></td>
    </tr>
	<tr>
	<td colspan="2">
	  <div align="right">日期：2019年7月26日</div>
	</td>
	</tr>
  </table>
  <p>&nbsp;</p>
</div>
</body>
</html>
